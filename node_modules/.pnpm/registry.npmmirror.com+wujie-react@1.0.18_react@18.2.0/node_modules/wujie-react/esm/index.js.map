{"version":3,"file":"index.js","names":["React","PropTypes","bus","preloadApp","startApp","destroyApp","setupApp","WujieReact","myRef","createRef","Promise","resolve","props","el","state","current","destroy","console","log","width","height","ref","PureComponent","propTypes","string","name","loading","element","url","alive","bool","fetch","func","object","attrs","replace","sync","prefix","fiber","degrade","plugins","array","beforeLoad","beforeMount","afterMount","beforeUnmount","afterUnmount","activated","deactivated","loadError"],"sources":["../index.js"],"sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { bus, preloadApp, startApp, destroyApp, setupApp } from \"wujie\";\n\nexport default class WujieReact extends React.PureComponent {\n  static propTypes = propTypes;\n  static bus = bus;\n  static setupApp = setupApp;\n  static preloadApp = preloadApp;\n  static destroyApp = destroyApp;\n\n  state = {\n    myRef: React.createRef(),\n  };\n\n  destroy = null;\n\n  startAppQueue = Promise.resolve();\n\n  startApp = async () => {\n    try {\n      const props = this.props;\n      const { current: el } = this.state.myRef;\n      this.destroy = await startApp({\n        ...props,\n        el,\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  }\n  \n  componentDidMount () {\n    this.startApp();\n  }\n\n  render() {\n    const { width, height } = this.props;\n    const { myRef: ref } = this.state;\n    return <div style={{ width, height }} ref={ref} />;\n  }\n}\n\nconst propTypes = {\n    height: PropTypes.string,\n    width: PropTypes.string,\n    name: PropTypes.string,\n    loading: PropTypes.element,\n    url: PropTypes.string,\n    alive: PropTypes.bool,\n    fetch: PropTypes.func,\n    props: PropTypes.object,\n    attrs: PropTypes.object,\n    replace: PropTypes.func,\n    sync: PropTypes.bool,\n    prefix: PropTypes.object,\n    fiber: PropTypes.bool,\n    degrade: PropTypes.bool,\n    plugins: PropTypes.array,\n    beforeLoad: PropTypes.func,\n    beforeMount: PropTypes.func,\n    afterMount: PropTypes.func,\n    beforeUnmount: PropTypes.func,\n    afterUnmount: PropTypes.func,\n    activated: PropTypes.func,\n    deactivated: PropTypes.func,\n    loadError: PropTypes.func,\n  }\n"],"mappings":";;+CACA,oJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AADA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,GAAT,EAAcC,UAAd,EAA0BC,QAA1B,EAAoCC,UAApC,EAAgDC,QAAhD,QAAgE,OAAhE;;IAEqBC,U;;;;;;;;;;;;;;;;4DAOX;MACNC,KAAK,eAAER,KAAK,CAACS,SAAN;IADD,C;;8DAIE,I;;oEAEMC,OAAO,CAACC,OAAR,E;;uIAEL;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;cAEDC,KAFC,GAEO,MAAKA,KAFZ;cAGUC,EAHV,GAGiB,MAAKC,KAAL,CAAWN,KAH5B,CAGCO,OAHD;cAAA;cAAA,OAIcX,QAAQ,iCACxBQ,KADwB;gBAE3BC,EAAE,EAAFA;cAF2B,GAJtB;;YAAA;cAIP,MAAKG,OAJE;cAAA;cAAA;;YAAA;cAAA;cAAA;cASPC,OAAO,CAACC,GAAR;;YATO;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,C;;;;;;;WAaX,6BAAqB;MACnB,KAAKd,QAAL;IACD;;;WAED,kBAAS;MACP,kBAA0B,KAAKQ,KAA/B;MAAA,IAAQO,KAAR,eAAQA,KAAR;MAAA,IAAeC,MAAf,eAAeA,MAAf;MACA,IAAeC,GAAf,GAAuB,KAAKP,KAA5B,CAAQN,KAAR;MACA,oBAAO;QAAK,KAAK,EAAE;UAAEW,KAAK,EAALA,KAAF;UAASC,MAAM,EAANA;QAAT,CAAZ;QAA+B,GAAG,EAAEC;MAApC,EAAP;IACD;;;;EApCqCrB,KAAK,CAACsB,a;;gBAAzBf,U,eACAgB,S;;gBADAhB,U,SAENL,G;;gBAFMK,U,cAGDD,Q;;gBAHCC,U,gBAICJ,U;;gBAJDI,U,gBAKCF,U;;SALDE,U;AAuCrB,IAAMgB,SAAS,GAAG;EACdH,MAAM,EAAEnB,SAAS,CAACuB,MADJ;EAEdL,KAAK,EAAElB,SAAS,CAACuB,MAFH;EAGdC,IAAI,EAAExB,SAAS,CAACuB,MAHF;EAIdE,OAAO,EAAEzB,SAAS,CAAC0B,OAJL;EAKdC,GAAG,EAAE3B,SAAS,CAACuB,MALD;EAMdK,KAAK,EAAE5B,SAAS,CAAC6B,IANH;EAOdC,KAAK,EAAE9B,SAAS,CAAC+B,IAPH;EAQdpB,KAAK,EAAEX,SAAS,CAACgC,MARH;EASdC,KAAK,EAAEjC,SAAS,CAACgC,MATH;EAUdE,OAAO,EAAElC,SAAS,CAAC+B,IAVL;EAWdI,IAAI,EAAEnC,SAAS,CAAC6B,IAXF;EAYdO,MAAM,EAAEpC,SAAS,CAACgC,MAZJ;EAadK,KAAK,EAAErC,SAAS,CAAC6B,IAbH;EAcdS,OAAO,EAAEtC,SAAS,CAAC6B,IAdL;EAedU,OAAO,EAAEvC,SAAS,CAACwC,KAfL;EAgBdC,UAAU,EAAEzC,SAAS,CAAC+B,IAhBR;EAiBdW,WAAW,EAAE1C,SAAS,CAAC+B,IAjBT;EAkBdY,UAAU,EAAE3C,SAAS,CAAC+B,IAlBR;EAmBda,aAAa,EAAE5C,SAAS,CAAC+B,IAnBX;EAoBdc,YAAY,EAAE7C,SAAS,CAAC+B,IApBV;EAqBde,SAAS,EAAE9C,SAAS,CAAC+B,IArBP;EAsBdgB,WAAW,EAAE/C,SAAS,CAAC+B,IAtBT;EAuBdiB,SAAS,EAAEhD,SAAS,CAAC+B;AAvBP,CAAlB"}